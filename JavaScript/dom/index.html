<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>

<body>
    <div id="calculator" class="m-auto border w-[500px] p-5 rounded-xl">
        <div id="screen" class="bg-gray-300 py-2 px-3 text-xl text-right rounded-md mb-5">
            0
        </div>

        <div id="actions" class="flex flex-col gap-5">
            <div class="flex items-center justify-center gap-5">
                <button onclick="readNumberAndShowInScreen('%')"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">%</button>
                <button onclick="readNumberAndShowInScreen('CE')"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm  w-1/4 py-2 bg-black text-white rounded-xl">CE</button>
                <button onclick="readNumberAndShowInScreen('C')"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">C</button>
                <button onclick="readNumberAndShowInScreen('X')"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">X</button>
            </div>
            <div class="flex items-center justify-center gap-5">
                <button onclick="readNumberAndShowInScreen(7)"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">7</button>
                <button onclick="readNumberAndShowInScreen(8)"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">8</button>
                <button onclick="readNumberAndShowInScreen(9)"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">9</button>
                <button onclick="readNumberAndShowInScreen('*')"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">*</button>
            </div>
            <div class="flex items-center justify-center gap-5">
                <button onclick="readNumberAndShowInScreen(4)"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">4</button>
                <button onclick="readNumberAndShowInScreen(5)"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">5</button>
                <button onclick="readNumberAndShowInScreen(6)"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">6</button>
                <button onclick="readNumberAndShowInScreen('-')"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">-</button>
            </div>
            <div class="flex items-center justify-center gap-5">
                <button onclick="readNumberAndShowInScreen(1)"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">1</button>
                <button onclick="readNumberAndShowInScreen(2)"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">2</button>
                <button onclick="readNumberAndShowInScreen(3)"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">3</button>
                <button onclick="readNumberAndShowInScreen('+')"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">+</button>
            </div>
            <div class="flex items-center justify-center gap-5">
                <button onclick="readNumberAndShowInScreen(0)"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">0</button>
                <button onclick="readNumberAndShowInScreen('.')"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/4 py-2 bg-black text-white rounded-xl">.</button>
                <button onclick="readNumberAndShowInScreen('=')"
                    class="px-4 cursor-pointer hover:bg-gray-800 hover:shadow-sm w-1/2 py-2 bg-black text-white rounded-xl">=</button>
            </div>
        </div>
    </div>

    <script>


        function readNumberAndShowInScreen(value) {
            if (value === 'CE' || value === 'C') {
                document.getElementById('screen').innerText = 0
            } else if (value === 'X') {
                if (document.getElementById('screen').innerText.split("").length == 1) return
                let val = document.getElementById('screen').innerText.split("")
                val.pop()
                document.getElementById('screen').innerText = val.join("")
            } else if (value === '=') {
                let total = eval(document.getElementById('screen').innerText)
                document.getElementById('screen').innerText = total
            } else {
                let operators = ['%', '*', '-', '+', '.']
                let screen = document.getElementById('screen')
                let valueArr = screen.innerText.split("")
                let lastChar = valueArr[valueArr.length - 1]

                if (operators.includes(lastChar)) {
                    valueArr.pop()          // remove last operator
                    valueArr.push(value)    // add new operator
                    screen.innerText = valueArr.join("")
                    return
                }
                screen.innerText += value

            }

        }
    </script>
</body>

</html>